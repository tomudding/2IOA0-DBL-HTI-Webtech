<!--
Author(s): Tom Udding, Sam Baggen
Created: 2019-05-01
Edited: 2019-05-09
-->
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>graphion - visualisation</title>
		<link rel="stylesheet" type="text/css" href="/static/css/grid.css">
		<link rel="stylesheet" type="text/css" href="/static/css/grid_style.css">
	    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet">
		<!-- Bokeh files from Cloudflare CDN -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bokeh/1.1.0/bokeh.min.css" integrity="sha256-kmX/Nb5PazwKydPmaZjEb9sOg8BWh1v5eP14IzXJUkU=" crossorigin="anonymous" />
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bokeh/1.1.0/bokeh-tables.min.css" integrity="sha256-RL9kShsLcf2jHG2zzLh1peDLvWOEK0wPFWSZTiYykc4=" crossorigin="anonymous" />
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bokeh/1.1.0/bokeh-widgets.min.css" integrity="sha256-+DdrVMn0QeLZ5dYwdqkuugwJ4Im57giLBGqd9wH2YO0=" crossorigin="anonymous" />
		<script src="https://cdnjs.cloudflare.com/ajax/libs/bokeh/1.1.0/bokeh.min.js" integrity="sha256-VwiC87GeMmJLjJIRwyI9USfUlf9zpJbgZugDAz7W5CA=" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/bokeh/1.1.0/bokeh-tables.min.js" integrity="sha256-1xlBn0odMnApk3dBf3oUDUQlsLvSwx2lvcBTIJC0x20=" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/bokeh/1.1.0/bokeh-widgets.min.js" integrity="sha256-0D9ZpwC/v+rmx33UGlpWU9Uo1+J58MFqTKkGVGDZpEE=" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/bokeh/1.1.0/bokeh-gl.min.js" integrity="sha256-fDyCLeWMeXB/F1JUTOFAM/9ONJmyiiSfsmPWl5tZQzk=" crossorigin="anonymous"></script>
		<style>
		#nodelink-load {
			border: 8px solid #f3f3f3; /* Light grey */
			border-top: 8px solid #3498db; /* Blue */
			border-radius: 50%;
			width: 30px;
			height: 30px;
			animation: spin 2s linear infinite;
		  }
		  #matrix-load {
			border: 8px solid #f3f3f3; /* Light grey */
			border-top: 8px solid #3498db; /* Blue */
			border-radius: 50%;
			width: 30px;
			height: 30px;
			animation: spin 2s linear infinite;
		  }

		  @keyframes spin {
			0% { transform: rotate(0deg); }
			100% { transform: rotate(360deg); }
		  }
		</style>
	</head>
	<body>
		<!--
			THIS SECTION IS BASED ON MY OWN HTML/CSS FRAMEWORK
			NEEDS TO BE ADJUSTED TO WHAT ANTON COMES UP WITH
			UNLESS WE WANT TO USE THIS
			- Tom Udding
		-->
		<section class="body-wrapper">
			<div class="container">
				<div class="row">
					<div class="col-s-6">
						<p id="nodelink-text">Loading nodelink diagram...</p>
						<div id="nodelink-load"></div>
						<div id="nodelink-plot"></div>
					</div>
					<div class="col-s-6">
						<p id="matrix-text">Loading matrix...</p>
						<div id="matrix-load"></div>
						<div id="matrix-plot"></div>
					</div>
				</div>
			</div>
		</section>
	</body>
	<script>
		fetch('/api/nodelink/radial/directed/{{ fileName }}').then(function(response) { document.getElementById('nodelink-text').innerHTML = 'Loaded!'; document.getElementById("nodelink-load").style.display = "none"; return response.json(); }).then(function(item) { Bokeh.embed.embed_item(item, "nodelink-plot"); });
		fetch('/api/matrix/matrix/{{ fileName }}').then(function(response) { document.getElementById('matrix-text').innerHTML = 'Loaded!'; document.getElementById("matrix-load").style.display = "none"; return response.json(); }).then(function(item) { Bokeh.embed.embed_item(item, "matrix-plot"); });
	</script>
</html>
