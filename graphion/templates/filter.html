<!--
Author(s): Steven van den Broek, Anton Vellikok, Tom Udding
Created: 2019-05-18
Edited: 2019-06-21
-->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <!-- <link rel="stylesheet" type="text/css" href="/static/css/pre-filter.css"> -->
        <link rel="stylesheet" type="text/css" href="/static/css/grid.css">
        <link rel="stylesheet" type="text/css" href="/static/css/grid_style.css">
        <link rel="stylesheet" type="text/css" href="/static/css/pre-filter.css">
        <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:100,400,700">
        <style>
            body {
                background: url("/static/images/first.png") no-repeat center center fixed;
                -webkit-background-size: cover;
                -moz-background-size: cover;
                -o-background-size: cover;
                background-size: cover;
            }
        </style>
        <!-- Bokeh files from Cloudflare CDN -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bokeh/1.1.0/bokeh.min.css"
            integrity="sha256-kmX/Nb5PazwKydPmaZjEb9sOg8BWh1v5eP14IzXJUkU=" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bokeh/1.1.0/bokeh-tables.min.css"
            integrity="sha256-RL9kShsLcf2jHG2zzLh1peDLvWOEK0wPFWSZTiYykc4=" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bokeh/1.1.0/bokeh-widgets.min.css"
            integrity="sha256-+DdrVMn0QeLZ5dYwdqkuugwJ4Im57giLBGqd9wH2YO0=" crossorigin="anonymous" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bokeh/1.1.0/bokeh.min.js"
            integrity="sha256-VwiC87GeMmJLjJIRwyI9USfUlf9zpJbgZugDAz7W5CA=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bokeh/1.1.0/bokeh-tables.min.js"
            integrity="sha256-1xlBn0odMnApk3dBf3oUDUQlsLvSwx2lvcBTIJC0x20=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bokeh/1.1.0/bokeh-widgets.min.js"
            integrity="sha256-0D9ZpwC/v+rmx33UGlpWU9Uo1+J58MFqTKkGVGDZpEE=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bokeh/1.1.0/bokeh-gl.min.js"
            integrity="sha256-fDyCLeWMeXB/F1JUTOFAM/9ONJmyiiSfsmPWl5tZQzk=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"
            integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.6/dat.gui.min.js"
            integrity="sha256-HJ7j+71YYw6Kcs8THwQV9lXmPOcR0eXlg7n8KRTZsyA=" crossorigin="anonymous"></script>
        <script>
            var currentTheme = null;

            function clickOnClusters() {
                document.getElementById('choose-POI-clusters').style.display='block';
                document.getElementById('choose-theme').style.display='none';
                fetch('/api/filter/clustering/graph/').then(
                    function (response) {
                        return response.json();
                    })
                    .then(function (item) {
                        const clusterGraph = document.getElementById('cluster-graph-wrapper');

                        // Get rid of the previous graph
                        if (clusterGraph.hasChildNodes()){
                            clusterGraph.firstChild.remove();
                        }
                        const newClusterGraph = document.createElement('div');
                        newClusterGraph.id = 'cluster-graph';
                        clusterGraph.append(newClusterGraph);
                        Bokeh.embed.embed_item(item, 'cluster-graph');
                    });
            }
        </script>
        <script>
            $(window).on('load', function() {
                $.post('/update-window-specs', { w: window.innerWidth, h: window.innerHeight }, function (data) {
                    if (data != 'updated') {
                        console.log("An unexpected error occured, plots will be sized 450x450.");
                    }
                });
            });
        </script>
        <title>graphion - filter</title>
    </head>
    <body>
        {% include "header.html" %}
        <section class="body-wrapper valign-wrapper">
            <div class="container">
                <div class="row">
                    <!-- Page 1: select theme -->
                    <div class="col-s-8 col-offset-2 valign" id="choose-theme">
                        <div class="card-container">
                            <div class="card-contents">
                                <h2 class="card-title text-center">Begin by choosing your point of interest</h2>
                                <hr>
                                <div class="text-center" style="margin-bottom: 20px; margin-top: 20px;">Selected dataset contains <span id="node-amount">{{ nodes }}</span> node(s) and <span id="edge-amount">{{ edges }}</span> edge(s).
                                <br>
                                It is <span id="directedness">{{ directedness }}</span> and has a density of <span id="sparcity">{{ sparcity }}%</span>.
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-s-6 icon-area">
                                            <img src="/static/images/interesting-nodes-edges.svg" alt="clusters-img">
                                            <br>
                                            <button class="button button-primary" onclick="
                                                currentTheme = 'node-edge';
                                                document.getElementById('filter-edge-weight').style.display='block';
                                                document.getElementById('choose-theme').style.display='none'
                                                fetch('/api/filter/distribution/weight/').then(
                                                function(response) {
                                                    document.getElementById('weight-selection').setAttribute('hidden', true);
                                                    return response.json(); })
                                                 .then(function(item) {
                                                    Bokeh.embed.embed_item(item, 'weight-plot');
                                                    document.getElementById('between-weight').removeAttribute('hidden');
                                                 });">Interesting vertices / edges</button>
                                        </div>
                                        <div class="vertical-line"></div>
                                        <div class="col-s-6 icon-area">
                                            <img src="/static/images/clusters.svg" alt="clusters-img">
                                            <br>
                                            <button class="button button-primary" onclick="currentTheme='cluster';clickOnClusters();">Clusters</button>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-s-12 col-0-margin">
                                            <!-- The "Back" -button returns the user to the previous page in his/her browser history -->
                                            <div class="row">
                                                <div class="footer-area">
                                                    <button onclick="window.location.href='/selection'"
                                                        class="button pop-up-footer-button pop-up-footer-button-back">Back</button>
                                                    <!-- Opens a "Help" -popup window -->
                                                    <button class="button pop-up-footer-button pop-up-footer-button-help"
                                                        onclick="document.getElementById('help-page-1').style.display='block';document.getElementById('choose-theme').style.display='none';">Help</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Help section of page 1, that is a separate window -->
                    <div class="col-s-8 col-offset-2 valign" id="help-page-1">
                        <div class="card-container">
                            <div class="card-contents">
                                <!-- Explain the difference between interesting nodes / edges and clusters -->
                                <h2 class="card-title text-center">Help</h2>
                                <hr>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-s-12">
                                            <h3 class="help-section-title">What are interesting vertices / edges?</h3>
                                            <p class="help-section-paragraph">For big datasets, it is not possible to show all vertices and edges in the dataset. That's why you are getting the opportunity to decide which vertices and edges you want to visualize. We will call those vertices and edges 'interesting'.<br>All edges have a weight (possibly 0 or 1). Edges will be considered interesting if their weight is between the minimum and maximum weight, which you get to decide.<br>Vertices will be considered interesting if the number of incoming and outcoming interesting edges is within the minimum and maximum that, again, you can decide.</p><br>
                                            <h3 class="help-section-title">What are clusters?</h3>
                                            <p class="help-section-paragraph">The cluster method is aiming to split a big dataset into several small datasets mainly based on dimension reduction with Principal Component Analysis (PCA) following by K-mean algorithm, the cluster number is determined automatically according to the size of orginal dataset.<br>The splitted small datasets will be represented by filled cycles in the following page. By click the cycle you are interested, you can visualize the selected cluster. </p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-s-12 col-0-margin">
                                            <div class="row">
                                                <div class="footer-area">
                                                    <button class="button pop-up-footer-button pop-up-footer-button-back"
                                                        onclick="document.getElementById('help-page-1').style.display='none';document.getElementById('choose-theme').style.display='block';">
                                                        Back</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Page 2: select cluster type -->
                    <div class="col-s-8 col-offset-2 valign" id="choose-POI-clusters">
                        <div class="card-container">
                            <div class="card-contents">
                                <h2 class="card-title text-center">Specify your point of interest</h2>
                                <hr>
                                <div class="card-body" id="cluster-graph-card">
                                    <div class="row">
                                        <div class="col-s-12 icon-area valign">
                                            <div id="cluster-graph-wrapper"></div>
                                            <p id="cluster-selection">Select a cluster by clicking on a circle.</p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-s-12 col-0-margin">
                                            <div class="row">
                                                <div class="footer-area">
                                                    <button class="button pop-up-footer-button pop-up-footer-button-back"
                                                        onclick="
                                                        document.getElementById('choose-POI-clusters').style.display='none';
                                                        document.getElementById('choose-theme').style.display='block'">
                                                        Back
                                                    </button>
                                                    <button class="button button-primary pop-up-footer-button-continue" id="start-tool-cluster" disabled
                                                        onclick="
                                                        document.getElementById('choose-POI-clusters').style.display='none';
                                                        document.getElementById('set-datashading-state').style.display='block';">
                                                        Continue
                                                    </button>
                                                    <!-- Opens a "Help" -popup window -->
                                                    <button class="button pop-up-footer-button pop-up-footer-button-help"
                                                        onclick="
                                                        document.getElementById('help-page-2').style.display='block';
                                                        document.getElementById('choose-POI-clusters').style.display='none';">
                                                        Help
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Help section of page 2 -->
                    <div class="col-s-8 col-offset-2 valign" id="help-page-2">
                        <div class="card-container">
                            <div class="card-contents">
                                <!-- Explain the difference between interesting nodes / edges and clusters -->
                                <h2 class="card-title text-center">Help</h2>
                                <hr>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-s-12">
                                            <h3 class="help-section-title">How to visualize your interested cluster?</h3>
                                            <p class="help-section-paragraph">The size of each filled cycle indicates the size of corresponding splitted small dataset (or cluster). By click the cycle you are interested, you can visualize the selected cluster. </p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-s-12 col-0-margin">
                                            <div class="row">
                                                <div class="footer-area">
                                                    <button class="button pop-up-footer-button pop-up-footer-button-back"
                                                        onclick="document.getElementById('help-page-2').style.display='none';document.getElementById('choose-POI-clusters').style.display='block';">
                                                        Back</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Page 3: filter the edge weights -->
                    <div class="col-s-8 col-offset-2 valign" id="filter-edge-weight">
                        <div class="card-container">
                            <div class="card-contents">
                                <h2 class="card-title text-center">Filter edge weights</h2>
                                <hr>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-s-12 icon-area valign">
                                            <div id="weight-plot" class="weight-degree-plot">
                                                <div id="weight-selection" class="weight-degree-selection">
                                                    <div class="load-animation"></div>Generating distribution plot...
                                                </div>
                                            </div>

                                            <p id="between-weight" hidden>Select edges by dragging the mouse.</p>

                                            <br>
                                            <!--
                                                <span class="filter-text">Display only edges that satisfy the weight requirement:</span>

                                                <input type="checkbox" class="multiple-choice-selection" id="edge-weight-chk-box">

                                                <span class="custom-checkbox" id="custom-edge-weight-chk-box"
                                                onclick="
                                                if (document.getElementById('edge-weight-chk-box').checked==false) {
                                                    document.getElementById('edge-weight-chk-box').checked=true;
                                                } else {
                                                    document.getElementById('edge-weight-chk-box').checked=false;
                                                }"></span>
                                                -->
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-s-12 col-0-margin">
                                            <div class="row">
                                                <div class="footer-area">
                                                    <button class="button pop-up-footer-button pop-up-footer-button-back"
                                                        onclick="
                                                        document.getElementById('filter-edge-weight').style.display='none';
                                                        document.getElementById('choose-theme').style.display='block';
                                                        plot = document.getElementById('weight-plot');
                                                        plot.removeChild(plot.childNodes[1]);
                                                        document.getElementById('between-weight').innerHTML = 'Select nodes by dragging the mouse.';
                                                        document.getElementById('weight-selection').removeAttribute('hidden');">
                                                        Back
                                                    </button>

                                                    <button class="button button-primary pop-up-footer-button-continue"
                                                        onclick="
                                                        document.getElementById('continue-text-edge-filter').innerHTML = '';
                                                        document.getElementById('filter-edges').removeAttribute('hidden');
                                                        $.post('/filter-edges', function(result){document.getElementById('filter-edge-weight').style.display='none';
                                                        document.getElementById('filter-node-in-degree').style.display='block';
                                                        fetch('/api/filter/distribution/degree/in/').then(
                                                        function(response) {
                                                            document.getElementById('in-degree-selection').setAttribute('hidden', true);
                                                            return response.json(); })
                                                        .then(function(item) {
                                                            Bokeh.embed.embed_item(item, 'in-degree-plot');
                                                            document.getElementById('between-in-degree').removeAttribute('hidden');
                                                        }); document.getElementById('filter-edges').setAttribute('hidden', true);})

                                                        ">
                                                        <div class="load-animation" id="filter-edges" hidden></div>
                                                        <div id="continue-text-edge-filter">Continue</div>
                                                    </button>

                                                    <!-- Opens a "Help" -popup window -->
                                                    <button class="button pop-up-footer-button pop-up-footer-button-help"
                                                        onclick="
                                                        document.getElementById('help-page-3').style.display='block';
                                                        document.getElementById('filter-edge-weight').style.display='none';">
                                                        Help</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Help section of page 3 -->
                    <div class="col-s-8 col-offset-2 valign" id="help-page-3">
                        <div class="card-container">
                            <div class="card-contents">
                                <h2 class="card-title text-center">Help</h2>
                                <hr>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-s-12">
                                            <h3 class="help-section-title">What are edge weights?</h3>
                                            <p class="help-section-paragraph">The edges are the connections between vertices. Each connection has its own weight, that weight indicates how strong or important the connection is. The exact meaning differs per dataset.</p><br>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-s-12 col-0-margin">
                                            <div class="row">
                                                <div class="footer-area">
                                                    <button class="button pop-up-footer-button pop-up-footer-button-back"
                                                        onclick="
                                                        document.getElementById('help-page-3').style.display='none';
                                                        document.getElementById('filter-edge-weight').style.display='block';">
                                                        Back
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Page 4: filter the node in-degrees -->
                    <div class="col-s-8 col-offset-2 valign" id="filter-node-in-degree">
                        <div class="card-container">
                            <div class="card-contents">
                                <h2 class="card-title text-center">Filter by in-degree</h2>
                                <hr>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-s-12 icon-area valign">
                                            <div id="in-degree-plot" class="weight-degree-plot">
                                                <div id="in-degree-selection" class="weight-degree-selection">
                                                    <div class="load-animation"></div>Generating distribution plot...
                                                </div>
                                            </div>

                                            <p id="between-in-degree" hidden>Select vertices by dragging the mouse.</p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-s-12 col-0-margin">
                                            <div class="row">
                                                <div class="footer-area">
                                                    <button class="button pop-up-footer-button pop-up-footer-button-back"
                                                        onclick="
                                                        document.getElementById('continue-text-edge-filter').innerHTML = 'Continue';
                                                        document.getElementById('filter-node-in-degree').style.display='none';
                                                        document.getElementById('filter-edge-weight').style.display='block';
                                                        plot = document.getElementById('in-degree-plot');
                                                        plot.removeChild(plot.childNodes[1]);
                                                        document.getElementById('between-in-degree').innerHTML = 'Select nodes by dragging the mouse.';
                                                        document.getElementById('in-degree-selection').removeAttribute('hidden');">
                                                        Back
                                                    </button>
                                                    <button class="button button-primary pop-up-footer-button-continue"
                                                        onclick="
                                                        document.getElementById('filter-node-in-degree').style.display='none';
                                                        document.getElementById('filter-node-out-degree').style.display='block';
                                                        fetch('/api/filter/distribution/degree/out/').then(
                                                        function(response) {
                                                            document.getElementById('out-degree-selection').setAttribute('hidden', true);
                                                            return response.json(); })
                                                         .then(function(item) {
                                                            Bokeh.embed.embed_item(item, 'out-degree-plot');
                                                            document.getElementById('between-out-degree').removeAttribute('hidden');
                                                         });">
                                                        Continue
                                                    </button>
                                                    <button class="button pop-up-footer-button pop-up-footer-button-help"
                                                        onclick="
                                                        document.getElementById('help-page-4').style.display='block';
                                                        document.getElementById('filter-node-in-degree').style.display='none';">
                                                        Help
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Help section of page 4 -->
                    <div class="col-s-8 col-offset-2 valign" id="help-page-4">
                        <div class="card-container">
                            <div class="card-contents">
                                <h2 class="card-title text-center">Help</h2>
                                <hr>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-s-12">
                                            <h3 class="help-section-title">What is in-degree of a vertex?</h3>
                                            <p class="help-section-paragraph">The edges are the connections between the vertices. Each edge connects a source vertex with a destination vertex. The in-degree of a vertex is the number of edges that have that vertex as destination node.</p><br>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-s-12 col-0-margin">
                                            <div class="row">
                                                <div class="footer-area">
                                                    <button class="button pop-up-footer-button pop-up-footer-button-back"
                                                        onclick="
                                                        document.getElementById('help-page-4').style.display='none';
                                                        document.getElementById('filter-node-in-degree').style.display='block';">
                                                        Back
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Page 5: filter the node out-degrees -->
                    <div class="col-s-8 col-offset-2 valign" id="filter-node-out-degree">
                        <div class="card-container">
                            <div class="card-contents">
                                <h2 class="card-title text-center">Filter by out-degree</h2>
                                <hr>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-s-12 icon-area valign">
                                            <div id="out-degree-plot" class="weight-degree-plot">
                                                <div id="out-degree-selection" class="weight-degree-selection">
                                                    <div class="load-animation"></div>Generating distribution plot...
                                                </div>
                                            </div>

                                            <p id="between-out-degree" hidden>Select vertices by dragging the mouse.</p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-s-12 col-0-margin">
                                            <div class="row">
                                                <div class="footer-area">
                                                    <button class="button pop-up-footer-button pop-up-footer-button-back"
                                                        onclick="
                                                        document.getElementById('filter-node-out-degree').style.display='none';
                                                        document.getElementById('filter-node-in-degree').style.display='block';
                                                        plot = document.getElementById('out-degree-plot');
                                                        plot.removeChild(plot.childNodes[1]);
                                                        document.getElementById('between-out-degree').innerHTML = 'Select nodes by dragging the mouse.';
                                                        document.getElementById('out-degree-selection').removeAttribute('hidden');">
                                                        Back
                                                    </button>
                                                    <button class="button button-primary pop-up-footer-button-continue"
                                                        onclick="
                                                        document.getElementById('filter-node-out-degree').style.display='none';
                                                        document.getElementById('set-datashading-state').style.display='block';">
                                                        Continue
                                                    </button>
                                                    <button class="button pop-up-footer-button pop-up-footer-button-help"
                                                        onclick="
                                                        document.getElementById('help-page-5').style.display='block';
                                                        document.getElementById('filter-node-out-degree').style.display='none';">
                                                        Help
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Help section of page 5 -->
                    <div class="col-s-8 col-offset-2 valign" id="help-page-5">
                        <div class="card-container">
                            <div class="card-contents">
                                <h2 class="card-title text-center">Help</h2>
                                <hr>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-s-12">
                                            <h3 class="help-section-title">What is out-degree of a vertex?</h3>
                                            <p class="help-section-paragraph">The edges are the connections between the vertices. Each edge connects a source vertex with a destination vertex. The out-degree of a vertex is the number of edges that have that vertex as source vertex.</p><br>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-s-12 col-0-margin">
                                            <div class="row">
                                                <div class="footer-area">
                                                    <button class="button pop-up-footer-button pop-up-footer-button-back"
                                                        onclick="
                                                        document.getElementById('help-page-5').style.display='none';
                                                        document.getElementById('filter-node-out-degree').style.display='block';">
                                                        Back
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Page X: Enable or disable datashading -->
                    <div class="col-s-8 col-offset-2 valign" id="set-datashading-state">
                        <div class="card-container">
                            <div class="card-contents">
                                <h2 class="card-title text-center">Datashading</h2>
                                <hr>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-s-12 icon-area valign">
                                            <script>
                                                function datashade() {
                                                    var state = document.getElementById('datashading').checked;
                                                    document.getElementById('start-tool').disabled = true;
                                                    document.getElementById('datashading-status').textContent = (state == true) ? "enabled" : "disabled";

                                                    $.post('/switch-datashading', { datashading: state }, function (data) {
                                                        if (data == 'switched') {
                                                            document.getElementById('start-tool').disabled = false;
                                                        }
                                                    });
                                                }
                                            </script>
                                            <input type="checkbox" name="datashading" id="datashading" onclick="datashade()"
                                                checked></input>
                                            <label for="datashading" onclick="datashade()">Datashading is <strong
                                                    id="datashading-status">enabled</strong></label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-s-12 col-0-margin">
                                            <div class="row">
                                                <div class="footer-area">
                                                    <script>
                                                        function datashadeBack() {
                                                            if (currentTheme == 'cluster') {
                                                                document.getElementById('set-datashading-state').style.display='none';
                                                                document.getElementById('choose-POI-clusters').style.display='block';
                                                            } else if (currentTheme == 'node-edge') {
                                                                document.getElementById('set-datashading-state').style.display='none';
                                                                document.getElementById('filter-node-out-degree').style.display='block';
                                                            } else {
                                                                document.getElementById('set-datashading-state').style.display='none';
                                                                document.getElementById('choose-theme').style.display='block';
                                                            }
                                                        }
                                                    </script>
                                                    <button class="button pop-up-footer-button pop-up-footer-button-back"
                                                        onclick="datashadeBack();">Back</button>
                                                    <button class="button button-primary pop-up-footer-button-continue"
                                                        id="start-tool" onclick="location.href='/visualise/{{fileName}}'">
                                                        Start the tool
                                                    </button>
                                                    <button class="button pop-up-footer-button pop-up-footer-button-help"
                                                        onclick="
                                                        document.getElementById('help-page-datashading').style.display='block';
                                                        document.getElementById('set-datashading-state').style.display='none';">
                                                        Help
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Help section of page X -->
                    <div class="col-s-8 col-offset-2 valign" id="help-page-datashading">
                        <div class="card-container">
                            <div class="card-contents">
                                <h2 class="card-title text-center">Help</h2>
                                <hr>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-s-12">
                                            <h3 class="help-section-title">What is datashading?</h3>
                                            <p class="help-section-paragraph">Datashading is the process in which datasets are turned into fixed-size grids which can be viewed as images. Edges (links) between nodes are iteratively bundled to remove clutter from the visualisation. By datashading a dataset some interactivity is lost, however, the data is represented in a clearer way.</p><br>
                                            <p class="help-section-paragraph">Datashading is a computationally expensive process and it is recommended to use this option for larger datasets (datasets containing more than a few hundred to thousands of edges).</p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-s-12 col-0-margin">
                                            <div class="row">
                                                <div class="footer-area">
                                                    <button class="button pop-up-footer-button pop-up-footer-button-back"
                                                        onclick="
                                                        document.getElementById('help-page-datashading').style.display='none';
                                                        document.getElementById('set-datashading-state').style.display='block';">
                                                        Back
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </body>
</html>
